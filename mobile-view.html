<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Wallpaper Preview – 4K Phone Background | Veleris</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <!-- Primary Meta Tags -->
  <meta name="title" content="Wallpaper Preview – 4K Phone Background | Veleris">
  <meta name="description" content="Preview and download premium 4K mobile wallpapers. High-resolution designs optimized for all phone displays.">
  <meta name="robots" content="noindex, follow">
  
  <!-- Canonical -->
  <link rel="canonical" href="https://veleris.in/mobile-view.html" />
  
  <!-- Open Graph / Social -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://veleris.in/mobile-view.html">
  <meta property="og:title" content="Wallpaper Preview – 4K Phone Background | Veleris">
  <meta property="og:description" content="Preview and download premium 4K mobile wallpapers. High-resolution designs optimized for all phone displays.">
  <meta property="og:image" content="https://veleris.in/assets/seo/preview.png">
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://veleris.in/mobile-view.html">
  <meta name="twitter:title" content="Wallpaper Preview – 4K Phone Background | Veleris">
  <meta name="twitter:description" content="Preview and download premium 4K mobile wallpapers. High-resolution designs optimized for all phone displays.">
  <meta name="twitter:image" content="https://veleris.in/assets/seo/preview.png">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ES6BDQMP3K"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-ES6BDQMP3K');
  </script>

  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://veleris.in"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "Mobile Wallpapers",
        "item": "https://veleris.in/mobile.html"
      },
      {
        "@type": "ListItem",
        "position": 3,
        "name": "Preview",
        "item": "https://veleris.in/mobile-view.html"
      }
    ]
  }
  </script>

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#0b0b0f;
      --panel:#0f1115;
      --muted:#9aa0b2;
      --accent:#fff;
    }

    *{box-sizing:border-box}
    body{margin:0;min-height:100vh;background:var(--bg);color:var(--accent);font-family:Inter,system-ui,-apple-system,sans-serif;display:flex;flex-direction:column}

    /* Topbar */
    .topbar{display:flex;align-items:center;gap:12px;padding:12px 14px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);backdrop-filter:blur(6px);justify-content:space-between;position:relative}
    .back-btn{width:44px;height:44px;border-radius:12px;border:0;background:transparent;color:var(--accent);display:inline-flex;align-items:center;justify-content:center;font-size:18px;cursor:pointer}
    .title{font-size:0.95rem;color:var(--accent);font-weight:600;position:absolute;left:50%;transform:translateX(-50%);pointer-events:none}
    .top-download{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;background:#ffffff;color:#000;border-radius:999px;border:0;font-weight:600;box-shadow:0 6px 16px rgba(0,0,0,0.35);cursor:pointer}

    /* PREVIEW */
    .preview{flex:1;display:flex;align-items:center;justify-content:center;padding:18px}
    .preview-inner{width:100%;max-width:560px;border-radius:28px;overflow:hidden;background:linear-gradient(180deg,#0b0b0f, #0f1115);display:flex;align-items:center;justify-content:center;padding:20px}
    .preview img{width:100%;height:auto;max-height:82vh;object-fit:cover;border-radius:14px;box-shadow:0 20px 40px rgba(0,0,0,0.6)}

    /* Controls now in topbar; no floating controls */
    .top-download svg{width:16px;height:16px}

    .fallback{text-align:center;color:var(--muted);padding:40px;font-size:0.95rem}
  </style>
</head>

<body class="page-wallpaper">

  <div class="topbar">
    <div style="display:flex;align-items:center;gap:8px;min-width:60px">
      <button class="back-btn" aria-label="Go back" onclick="goBack()">←</button>
    </div>
    <div class="title">Preview</div>
    <div style="display:flex;align-items:center;gap:8px;min-width:60px;justify-content:flex-end">
      <button class="top-download" id="downloadBtnTop" aria-label="Download">
      <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M12 3v10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
      Download
    </button>
    </div>
  </div>

  <div class="preview">
    <div class="preview-inner">
      <img id="wall" alt="Wallpaper preview">
    </div>
  </div>

  <!-- download moved to topbar for better visibility -->

  <script>
    const params = new URLSearchParams(window.location.search);
    const img = params.get("img");
    const v = params.get("v") || Date.now();
    const imageEl = document.getElementById("wall");
    const downloadBtn = document.getElementById('downloadBtnTop');

    function goBack(){ if(window.history.length>1) window.history.back(); else window.location.href='collections.html'; }
    window.goBack = goBack;

    if (!img) {
      document.body.innerHTML = `<div class="fallback">Wallpaper not found.</div>`;
    } else {
      const src = `assets/wallpapers/mobile/${img}?v=${v}`;
      imageEl.src = src;
      async function downloadWallpaper(){
        try{
          const res = await fetch(src, {mode:'cors'});
          if(!res.ok) throw new Error('fetch failed');
          const blob = await res.blob();
          const blobUrl = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = blobUrl;
          a.download = img;
          document.body.appendChild(a);
          a.click();
          a.remove();
          URL.revokeObjectURL(blobUrl);
        }catch(e){
          // fallback to direct link
          const a = document.createElement('a');
          a.href = src;
          a.download = img;
          document.body.appendChild(a);
          a.click();
          a.remove();
        }
      }

      downloadBtn.addEventListener('click', downloadWallpaper);
    }
  </script>

</body>
</html>
